/*Build at 31-10-2017*/
function handlerError(a, b) {
    switch (a) {
        case 401:
            document.cookie = config.cookie_token + "=; Max-Age=0", window.location = "index.html";
            break;
        case 400:
            debug(b), show(-1, b)
    }
}

function formatCurrency(a) {
    if (void 0 === a) return 0;
    var b = a.toString().replace(/\$|\,/g, "");
    if ("" == a && (b = 0), /\./.test(b)) return b;
    if (isNaN(b)) return !1;
    for (var c = 0; c < Math.floor((b.length - (1 + c)) / 3); c++) b = b.substring(0, b.length - (4 * c + 3)) + "." + b.substring(b.length - (4 * c + 3));
    return b
}

function formatDate(a) {
    return void 0 === a ? "" : moment(new Date(a)).format("YYYY/MM/DD HH:mm:ss")
}

function getCurrentDate() {
    var a = new Date,
        b = a.getFullYear(),
        c = a.getMonth() + 1,
        d = a.getDate();
    if (1 == c.toString().length) var c = "0" + c;
    if (1 == d.toString().length) var d = "0" + d;
    var e = d + "/" + c + "/" + b;
    return e
}

function isEmpty(a) {
    return "undefined" == typeof a || !a || 0 === a.length
}

function showAlert(a) {
    $(".alert").html(a), $(".alert").show(), window.setTimeout(function() {
        $(".alert").fadeTo(1500, 0).slideUp(500, function() {
            $(".alert").html(""), $(".alert").hide()
        })
    }, 3e3)
}

function show(a, b) {
    a == SUCCESS ? notif({
        msg: b,
        type: "success"
    }) : notif({
        msg: b,
        type: "error"
    })
}

function debug(a) {
    console.log(a)
}

function DocSo3ChuSo(a) {
    var b, c, d, e = "";
    if (b = parseInt(a / 100), c = parseInt(a % 100 / 10), d = a % 10, 0 == b && 0 == c && 0 == d) return "";
    switch (0 != b && (e += ChuSo[b] + " trÄƒm ", 0 == c && 0 != d && (e += " linh ")), 0 != c && 1 != c && (e += ChuSo[c] + " mÆ°Æ¡i", 0 == c && 0 != d && (e += " linh ")), 1 == c && (e += " mÆ°á»i "), d) {
        case 1:
            e += 0 != c && 1 != c ? " má»‘t " : ChuSo[d];
            break;
        case 5:
            e += 0 == c ? ChuSo[d] : " lÄƒm ";
            break;
        default:
            0 != d && (e += ChuSo[d])
    }
    return e
}

function DocTienBangChu(a) {
    var b = 0,
        c = 0,
        d = 0,
        e = "",
        f = "",
        g = !1,
        h = new Array;
    if (0 > a && (g = !0), 0 == a) return "";
    if (d = a > 0 ? a : -a, a > 8999999999999999) return "";
    for (h[5] = Math.floor(d / 1e15), isNaN(h[5]) && (h[5] = "0"), d -= 1e15 * parseFloat(h[5].toString()), h[4] = Math.floor(d / 1e12), isNaN(h[4]) && (h[4] = "0"), d -= 1e12 * parseFloat(h[4].toString()), h[3] = Math.floor(d / 1e9), isNaN(h[3]) && (h[3] = "0"), d -= 1e9 * parseFloat(h[3].toString()), h[2] = parseInt(d / 1e6), isNaN(h[2]) && (h[2] = "0"), h[1] = parseInt(d % 1e6 / 1e3), isNaN(h[1]) && (h[1] = "0"), h[0] = parseInt(d % 1e3), isNaN(h[0]) && (h[0] = "0"), b = h[5] > 0 ? 5 : h[4] > 0 ? 4 : h[3] > 0 ? 3 : h[2] > 0 ? 2 : h[1] > 0 ? 1 : 0, c = b; c >= 0; c--) f = DocSo3ChuSo(h[c]), e += f, h[c] > 0 && (e += Tien[c]), c > 0 && f.length > 0 && (e += "");
    return "," == e.substring(e.length - 1) && (e = e.substring(0, e.length - 1)), e = e.substring(1, 2).toUpperCase() + e.substring(2), g ? "Ă‚m " + e + " Ä‘á»“ng" : e + " Ä‘á»“ng"
}

function JSONToCSVConvertor(a, b, c) {
    var d = "object" != typeof a ? JSON.parse(a) : a,
        e = "";
    if (e += b + "\r\n\n", c) {
        var f = "";
        for (var g in d[0]) f += g + ",";
        f = f.slice(0, -1), e += f + "\r\n"
    }
    for (var h = 0; h < d.length; h++) {
        var f = "";
        for (var g in d[h]) f += '"' + d[h][g] + '",';
        f.slice(0, f.length - 1), e += f + "\r\n"
    }
    if ("" == e) return void alert("Invalid data");
    var i = "Report_";
    i += b.replace(/ /g, "_");
    var j = "data:text/csv;charset=utf-8," + escape(e),
        k = document.createElement("a");
    k.href = j, k.style = "visibility:hidden", k.download = i + ".csv", document.body.appendChild(k), k.click(), document.body.removeChild(k)
}

function replaceAll(a, b, c) {
    return a.replace(new RegExp(b, "g"), c)
}

function timeSince(a) {
    var b = Math.floor((new Date - a) / 1e3),
        c = Math.floor(b / 31536e3);
    return c > 1 ? c + " years" : (c = Math.floor(b / 2592e3), c > 1 ? c + " months" : (c = Math.floor(b / 86400), c > 1 ? c + " days" : (c = Math.floor(b / 3600), c > 1 ? c + " hours" : (c = Math.floor(b / 60), c > 1 ? c + " minutes" : Math.floor(b) + " seconds"))))
}
